<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page_title }} - {{ server_name }}</title>
    
    <!-- Bundled CSS -->
    <link rel="stylesheet" href="/static/main.41220636.css">
    
    <!-- Theme color for initial load (prevents white flash) -->
    <style>
        html { background-color: #000000; }
        body { background-color: #000000; color: #22c55e; }
        body.theme-light { background-color: #f8fafc; color: #1e293b; }
        body.theme-light html { background-color: #f8fafc; }
    </style>
    
    <!-- Server-side data injection -->
    <script>
        // Inject server-side data into global scope for React
        window.SKYRIMNET_DATA = {
        
        };
    </script>
    
    <!-- Page-specific head content -->
    {% block head %}{% endblock %}
</head>
<body class="bg-gray-900 text-green-400 antialiased transition-colors duration-300">
    <!-- Theme script (now body exists) -->
    <script>
        (function() {
            function getCookie(name) {
                const value = '; ' + document.cookie;
                const parts = value.split('; ' + name + '=');
                if (parts.length === 2) return parts.pop().split(';').shift();
                return null;
            }
            const savedTheme = getCookie('theme') || 'dark';
            document.body.classList.add('theme-' + savedTheme);
        })();
    </script>
    
    <!-- React Root -->
    <div id="react-root"></div>
    
    <!-- Loading message for users with JavaScript disabled -->
    <noscript>
        <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
            <h1>ðŸš€ SkyrimNet</h1>
            <p>This application requires JavaScript to run.</p>
            <p>Please enable JavaScript in your browser settings.</p>
        </div>
    </noscript>
    
    <!-- Bundled JavaScript (load order matters!) -->
    <script src="/static/runtime.2c79f6d7.js"></script>
    <script src="/static/react-vendor.cda34798.js"></script>
    <script src="/static/codemirror-vendor.7233de1f.js"></script>
    <script src="/static/charts-vendor.86bc7f94.js"></script>
    <script src="/static/vendors.d1074683.js"></script>
    <script src="/static/main.27f0ecf2.js"></script>
    
    <!-- Page-specific scripts -->
    {% block scripts %}{% endblock %}
</body>
</html>